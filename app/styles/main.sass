$iconSpritePath: "../images/glyphicons-halflings.png"
$iconWhiteSpritePath: "../images/glyphicons-halflings-white.png"

$diaperWidth: 300px
$diaperHeight: 180px

$statsBannerBackground: rgba(black, 0.3)

// BOOTSTRAP!! just the basics
@import "sass-bootstrap/lib/_variables"
@import "sass-bootstrap/lib/_mixins"
@import "sass-bootstrap/lib/_reset"
@import "sass-bootstrap/lib/_scaffolding"
@import "sass-bootstrap/lib/_type"
@import "sass-bootstrap/lib/_utilities"

// keyframes mixin
@mixin keyframes($name) 
	@-webkit-keyframes #{$name}
		@content 
	
	@-moz-keyframes #{$name}
		@content
	
	@-ms-keyframes #{$name}
		@content
	
	@keyframes #{$name}
		@content

// animation mixins with prefixing
@mixin animation($what) 
	-webkit-animation: $what
	-moz-animation: $what
	-o-animation: $what 
	animation: $what

@mixin animation-delay($time) 
	-webkit-animation-delay: $time
	-moz-animation-delay: $time
	-o-animation-delay: $time 
	animation-delay: $time

@mixin animation-duration($time) 
	-webkit-animation-duration: $time
	-moz-animation-duration: $time
	-o-animation-duration: $time 
	animation-duration: $time

@mixin transform-origin($origin) 
	-webkit-transform-origin: $origin
	-moz-transform-origin: $origin
	-o-transform-origin: $origin
	transform-origin: $origin

// Chunk Five by the League of Moveable Type
// http://theleagueofmoveabletype.com/chunk
@font-face 
	font-family: "Chunkfive"
	src: url("fonts/Chunkfive-webfont.eot#") format("eot"), url("fonts/Chunkfive-webfont.woff") format("woff"), url("fonts/Chunkfive-webfont.ttf") format("truetype"), url("fonts/Chunkfive-webfont.svg#webfontM8M0EYs2") format("svg")
	font-weight: normal
	font-style: normal

.container 
	font-family: Chunkfive, Helvetica, sans-serif
	font-size: 18px
	text-align: center
	margin: auto

	// full-screen, no scrolling
	position: fixed
	top: 0
	left: 0
	bottom: 0
	right: 0
	width: auto

// page title and score counter
header 
	h1 
		font-size: 4em
		line-height: normal
		padding: .5em 0 .3em
		margin: 0
	
	.stats 
		background: $statsBannerBackground
		color: white
		padding: 10px 20px
		position: absolute
		left: 3em
		bottom: 3em
		line-height: 2em
		border-radius: 6px

		em 
			font-size: 5em
			line-height: normal
			font-style: normal
			display: block

// tray of dipes to change into
.others 
	position: absolute
	right: 1em
	top: 2em
	bottom: 2em
	ul 
		max-height: 100%
		overflow-x: hidden
		overflow-y: scroll
		padding-right: 1em
		margin: 0

		li 
			padding: 10px 0

			img 
				margin: 0 0 10%
				width: 80px
				display: block

				&:hover 
					@include animation(dipe .5s ease-in-out infinite alternate)

// copyright attribution
footer 
	position: absolute
	bottom: 1em
	width: 100%
	text-align: center

// the dipe itself in the center of the screen
.diaper 
	@include size($diaperHeight, $diaperWidth)
	position: absolute
	top: 50%
	left: 50%
	// this gets adjusted via js when dipe is changed
	margin-top: -$diaperHeight / 2
	margin-left: -$diaperWidth / 2

	> img 
		width: 200px
		@include animation(dipe 1s ease-in-out infinite alternate)

// additional dipe elements
#also 
	position: relative
	top: -($diaperHeight * 5 / 6)

	// *** PLANETS ***
	// orbital periods and relative radii
	$planetPeriods: 10s 8s 6s
	$planetOrbits: 1.8 .9 1.2
	// a mixin to generate a planet given a duration and orbit ratio
	@mixin planet($duration, $orbit) 
		@include animation(rotate $duration linear infinite normal)
		@include transform-origin(0 50%)
		text-align: right
		width: $diaperWidth * $orbit
		position: absolute
		top: 50%
		left: 50%
		// rotate the planet itself in the opposite direction to preserve pixel-ness
		img 
			@include animation(rotate $duration linear infinite reverse)
	// now generate a CSS class for each planet using arrays above
	@for $i from 1 through length($planetPeriods) 
		.planet-#{$i}
			@include planet(nth($planetPeriods, $i), nth($planetOrbits, $i))

// ** ANIMATIONS **
// a simple rotation animation
@include keyframes(rotate) 
	0%    
		@include rotate(0deg) 
	100%  
		@include rotate(360deg) 

// the comfortable dipe float animation
@include keyframes(dipe) 
	0% 
		margin-top: 0%
		margin-bottom: 10%
	100% 
		margin-top: 10%
		margin-bottom: 0%
